<form #form="ngForm" (ngSubmit)="Register()" novalidate class="profile-container">
  <h1 class="profile-header">Register</h1>
  <div class="profile-form">
    <div class="profile-fields">
      <div class="form-group">
        <label>First Name</label>
        <input type="text" placeholder="John" [(ngModel)]="profile.FirstName" name="firstName" required minlength="2" #firstName="ngModel"/>
        <div class="error" *ngIf="firstName.invalid && firstName.touched">
          <small *ngIf="firstName.errors?.['required']">First name is required.</small>
          <small *ngIf="firstName.errors?.['minlength']">Minimum 2 characters required.</small>
        </div>
      </div>

      <div class="form-group">
        <label>Last Name</label>
        <input type="text" placeholder="Doe" [(ngModel)]="profile.LastName" name="lastName" required minlength="2" #lastName="ngModel"/>
        <div class="error" *ngIf="lastName.invalid && lastName.touched">
          <small *ngIf="lastName.errors?.['required']">Last name is required.</small>
          <small *ngIf="lastName.errors?.['minlength']">Minimum 2 characters required.</small>
        </div>
      </div>

      <div class="form-group">
        <label>Password</label>
        <input type="password" placeholder="••••••••" [(ngModel)]="profile.password" appPassValidator name="password" #password="ngModel" minlength="8" required/>
        <div class="error" *ngIf="password.invalid && password.touched">
          <small *ngIf="password.errors?.['required']">Password is required.</small>
          <small *ngIf="password.errors?.['minlength']">Minimum 8 characters required.</small>
          <small *ngIf="password.errors?.['uppercase']">At least one capital letter required.</small>
        </div>
      </div>

      <div class="form-group">
        <label>Email</label>
        <input type="email" placeholder="john@example.com" [(ngModel)]="profile.mail" name="mail" required email #mail="ngModel"/>
        <div class="error" *ngIf="mail.invalid && mail.touched">
          <small *ngIf="mail.errors?.['required']">Email is required.</small>
          <small *ngIf="mail.errors?.['email']">Invalid email format.</small>
        </div>
        <span style="color: red;">{{ err.e_mail }}</span>
      </div>

      <div class="form-group">
        <label>Phone Number</label>
        <input type="tel" placeholder="+1234567890" [(ngModel)]="profile.phone_num" name="phone" required pattern="^[0-9\+\-\(\)\s]*$" #phone="ngModel"/>
        <div class="error" *ngIf="phone.invalid && phone.touched">
          <small *ngIf="phone.errors?.['required']">Phone is required.</small>
          <small *ngIf="phone.errors?.['pattern']">Only digits, +, - allowed.</small>
        </div>
        <span style="color: red;">{{ err.e_phone }}</span>
      </div>

      <div class="form-group">
        <label>Age</label>
        <input type="number" placeholder="30" [(ngModel)]="profile.age" name="age" required min="1" max="120" #age="ngModel"/>
        <div class="error" *ngIf="age.invalid && age.touched">
          <small *ngIf="age.errors?.['required']">Age is required.</small>
          <small *ngIf="age.errors?.['min']">Minimum age is 1.</small>
          <small *ngIf="age.errors?.['max']">Maximum age is 120.</small>
        </div>
      </div>

      <div class="form-group">
        <label>Business Name</label>
        <input type="text" placeholder="Tech Solutions" [(ngModel)]="profile.BussinesName" name="businessName"/>
      </div>

      <div class="form-group">
        <label>Username</label>
        <input type="text" placeholder="username" [(ngModel)]="profile.username" name="username" required minlength="4" #username="ngModel"/>
        <div class="error" *ngIf="username.invalid && username.touched">
          <small *ngIf="username.errors?.['required']">Username is required.</small>
          <small *ngIf="username.errors?.['minlength']">At least 4 characters.</small>
        </div>
        <span style="color: red;">{{ err.e_username }}</span>
      </div>

      <div class="image_uploading">
        <div class="profile-header">
          <small>Company Logo</small>
          <div class="logo-section">
            <img [src]="logoPreviewPath" alt="" class="logo-img"/>
            <input type="file" accept="image/*" (change)="onSelectedLogo($event)"/>
          </div>
        </div>

        <div class="profile-header">
          <small>Profile Photo</small>
          <div class="photo-section">
            <img [src]="photoPreviewPath" alt="" class="logo-img"/>
            <input type="file" accept="image/*" (change)="onSelectedPhoto($event)"/>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="profile-actions">
    <button class="btn-save" type="submit" [disabled]="form.invalid">Register</button>
    <button class="btn-cancel" [routerLink]="''" type="button">Cancel</button>
  </div>
</form>
